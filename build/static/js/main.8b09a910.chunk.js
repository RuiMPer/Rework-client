(this["webpackJsonpproject-management-client"]=this["webpackJsonpproject-management-client"]||[]).push([[0],{116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(26),r=a.n(o),c=(a(75),a(76),a(8)),s=a(9),i=a(11),m=a(10),u=(a(77),a(15)),h=a(140),d=(a(78),function(e){return l.a.createElement("div",{className:"loading"},l.a.createElement(h.a,{type:"grow",color:"success"})," Loading...")}),g=(a(81),a(141)),p=a(142),E=a(65),f=a(143),b=a(144),v=a(145),y=a(146),k=a(147),C=a(12),S=a(23),x=a.n(S),O=a(6),w=a.n(O),j=a(33),N=a.n(j),P=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={listOfServices:[]},e.getUserServices=function(){return w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).get("/services").then((function(t){e.setState({listOfServices:t.data})}))},e.handleNotification=function(){e.getUserServices();var t=x()().format("DD/MM/YYYY"),a=[];e.state.listOfServices.map((function(e){e.bookings.length>=1&&e.bookings.map((function(e){return console.log("ESTE",e),w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).get("/bookings/".concat(e)).then((function(e){console.log("IDSDAA",e);var a=e.data;console.log(a),console.log(a.date);var n=x()(e.date).subtract(1,"days").format("DD/MM/YYYY");console.log(e.date),console.log("hoje",t),console.log("dia notifica\xe7\xe3o",n)}))}))})),a.length>=1&&console.log("OUTRO",a)},e.Page=function(){return l.a.createElement("div",{className:"page"},(N()({title:"New Booking",subtitle:"Sadas",message:"asdasd",theme:"darkblue",native:!0}),void console.log("olhaeste ",e.props)))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getUserServices()}},{key:"render",value:function(){return l.a.createElement("section",{className:"home"},this.props.isLoggedIn&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"My Services"),l.a.createElement("section",{className:"servicesnahome"},0===this.state.listOfServices.length&&l.a.createElement(l.a.Fragment,null," ",l.a.createElement("p",{style:{marginTop:"10px"}},"There is still no services to show.")),this.state.listOfServices.length>0&&l.a.createElement(l.a.Fragment,null,this.state.listOfServices.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.b,{to:"/services/".concat(e._id)},l.a.createElement(g.a,{key:e._id},l.a.createElement(p.a,{tag:"h3"},e.title),l.a.createElement(E.a,null,"+"))))})))),l.a.createElement("hr",null)),l.a.createElement("div",{className:"clearfix"}),l.a.createElement("h3",null,"How things work at Rework:"),l.a.createElement(f.a,null,l.a.createElement("span",{className:"lead"},"1 - "),l.a.createElement("span",null,"Advertise your services and manage booking."),l.a.createElement("hr",{className:"my-2"}),l.a.createElement("span",{className:"lead"},"2 - "),l.a.createElement("span",null,"Look for what you need."),l.a.createElement("hr",{className:"my-2"}),l.a.createElement("span",{className:"lead"},"3 - "),l.a.createElement("span",null,"Get notified about upcoming appointments."),l.a.createElement("hr",{className:"my-2"}),l.a.createElement("p",{className:"lead"},l.a.createElement(E.a,{color:"primary"},"Start Now!"))),l.a.createElement("h3",null,"All our categories"),l.a.createElement(g.a,{inverse:!0,className:"category-card"},l.a.createElement(b.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?health,human",alt:"Card cap"}),l.a.createElement(v.a,null,l.a.createElement(y.a,null,"HEALTH"),l.a.createElement(k.a,null,l.a.createElement("small",null,"Know more +")))),l.a.createElement(g.a,{inverse:!0,className:"category-card"},l.a.createElement(b.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?technology",alt:"Card cap"}),l.a.createElement(v.a,null,l.a.createElement(y.a,null,"TECHNOLOGY"),l.a.createElement(k.a,null,l.a.createElement("small",null,"Know more +")))),l.a.createElement(g.a,{inverse:!0,className:"category-card"},l.a.createElement(b.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?beauty,aesthetics",alt:"Card cap"}),l.a.createElement(v.a,null,l.a.createElement(y.a,null,"BEAUTY & PERSONAL CARE"),l.a.createElement(k.a,null,l.a.createElement("small",null,"Know more +")))),l.a.createElement(g.a,{inverse:!0,className:"category-card"},l.a.createElement(b.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?dyi,repairs,handy",alt:"Card cap"}),l.a.createElement(v.a,null,l.a.createElement(y.a,null,"HOME REPAIRS"),l.a.createElement(k.a,null,l.a.createElement("small",null,"Know more +")))),l.a.createElement(g.a,{inverse:!0,className:"category-card"},l.a.createElement(b.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?cooking",alt:"Card cap"}),l.a.createElement(v.a,null,l.a.createElement(y.a,null,"COOKING"),l.a.createElement(k.a,null,l.a.createElement("small",null,"Know more +")))),l.a.createElement(g.a,{inverse:!0,className:"category-card"},l.a.createElement(b.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?education",alt:"Card image cap"}),l.a.createElement(v.a,null,l.a.createElement(y.a,null,"EDUCATION"),l.a.createElement(k.a,null,l.a.createElement("small",null,"Know more +")))))}}]),a}(n.Component);a(116);var U=function(){return l.a.createElement("footer",{className:"footer bg-info",style:{padding:".5rem",textAlign:"center"}},l.a.createElement("div",{className:"clearfix",style:{maxWidth:"980px",margin:"auto"}},l.a.createElement("p",{className:"float-right"},"2020 | Re-WORK   /   Credits: R, M.")))},A=a(17),_=a(148),B=a(149),F=a(150),I=a(151),T=a(152),D=a(153),M=a(154),L=a(18),q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={category:[],title:"",description:"",photoPath:[],author:"",errorMessage:""},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(A.a)({},n,l))},e.handleFileChange=function(t){e.setState({photoPath:t.target.files[0]})},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.category,l=a.title,o=a.description,r=a.photoPath,c=e.props.userId,s=new FormData;s.append("photoPath",r),n&&l&&o&&r?e.setState({errorMessage:""}):e.setState({errorMessage:"All fields are compulsory! Complete your form, please."}),w.a.post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/upload"),s).then((function(t){console.log("USer",c),console.log("image uploaded",t),w.a.post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/services"),{category:n,title:l,description:o,photoPath:t.data.photoPath,author:c}).then((function(t){console.log("service created",t),e.props.refreshServices(),e.setState({category:[],title:"",description:"",photoPath:[],author:""}),Object(L.b)("Service created with super success!")}))}))},e}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(L.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),l.a.createElement(_.a,{onSubmit:this.handleFormSubmit},l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"title"},"Title"),l.a.createElement(D.a,{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange}))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"category"},"Category"),l.a.createElement(D.a,{type:"text",name:"category",value:this.state.category,onChange:this.handleChange})))),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"description"},"Description"),l.a.createElement(D.a,{type:"textarea",name:"description",value:this.state.description,onChange:this.handleChange})),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"file"},"File"),l.a.createElement(D.a,{type:"file",name:"file",onChange:this.handleFileChange}),l.a.createElement(M.a,{color:"muted"},"Add relevant photos to illustrate the services you provide.")),l.a.createElement(E.a,null,"Submit"),this.state.errorMessage&&l.a.createElement("p",{className:"error",style:{marginTop:"10px"}}," ",this.state.errorMessage," ")))}}]),a}(n.Component),R=(a(117),a(155)),Y=a(156),H=a(157),V=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={listOfServices:[],showAddService:!1},e.getUserServices=function(){return e.setState({showAddService:!1}),w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).get("/services").then((function(t){e.setState({listOfServices:t.data})}))},e.showAddService=function(){e.state.showAddService?e.setState({showAddService:!1}):e.setState({showAddService:!0})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getUserServices()}},{key:"render",value:function(){var e=this,t=this.state.showAddService;return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"My Services"),l.a.createElement(E.a,{onClick:function(){return e.showAddService()},className:t?"openAdd":null},t?"Cancelar":"Add Service")),t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(q,{userId:this.props.loggedInUser._id,refreshServices:this.getUserServices})),l.a.createElement("section",{className:"maincontent servicelist"},!this.state.showAddService&&0===this.state.listOfServices.length&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"noresultswrap"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},l.a.createElement("path",{d:"M15,109.8l48,17c0,0,0,0,0,0c0.1,0,0.2,0.1,0.3,0.1c0.1,0,0.1,0,0.2,0c0.1,0,0.2,0,0.4,0c0,0,0.1,0,0.1,0c0.2,0,0.3,0,0.5,0 c0,0,0.1,0,0.1,0c0.1,0,0.2-0.1,0.3-0.1c0,0,0,0,0,0l48-17c1.2-0.4,2-1.6,2-2.8V73.4l10-3.5c0.8-0.3,1.5-1,1.8-1.8s0.2-1.8-0.3-2.6 l-12-20c0,0,0,0,0-0.1c0-0.1-0.1-0.1-0.1-0.2c0,0,0,0,0-0.1c0,0,0,0,0,0c0-0.1-0.1-0.1-0.1-0.2c0,0-0.1-0.1-0.1-0.1c0,0,0,0-0.1-0.1 c0,0,0,0-0.1,0c-0.1,0-0.1-0.1-0.2-0.1c0,0-0.1-0.1-0.1-0.1c0,0,0,0-0.1,0c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.2-0.1 c-0.1,0-0.1,0-0.2-0.1c0,0,0,0-0.1,0c0,0,0,0,0,0l-48-17c-0.2-0.1-0.4-0.1-0.6-0.1c0,0-0.1,0-0.1,0c-0.2,0-0.3,0-0.5,0 c-0.1,0-0.1,0-0.2,0c-0.2,0-0.4,0.1-0.6,0.1l-48,17c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c-0.1,0.1-0.3,0.1-0.4,0.2 c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.1-0.4,0.3-0.6,0.5l0,0c0,0-0.1,0.1-0.1,0.1c0,0,0,0,0,0c-0.1,0.1-0.1,0.2-0.2,0.2c0,0,0,0,0,0 c0,0,0,0-0.1,0.1l-12,20C1,66.2,0.9,67.2,1.2,68s1,1.5,1.8,1.8l10,3.5V107C13,108.3,13.8,109.4,15,109.8z M109,104.9l-42,14.9V95.7 c0-1.7-1.3-3-3-3s-3,1.3-3,3v24.1l-42-14.9V75.5l32,11.3c0.3,0.1,0.7,0.2,1,0.2c1,0,2-0.5,2.6-1.5L64,69.8l9.4,15.7 C74,86.5,75,87,76,87c0.3,0,0.7-0.1,1-0.2l32-11.3V104.9z M67,34.2L103,47L67,59.8V34.2z M77.3,80.4l-8.9-14.8l42.2-15l8.9,14.8 L77.3,80.4z M17.3,50.6l42.2,15l-8.9,14.8l-42.2-15L17.3,50.6z"})),l.a.createElement("p",{className:"noresults"},"There is still no services to show."))),this.state.listOfServices.map((function(e){return l.a.createElement("div",{key:e._id},l.a.createElement(g.a,{to:"/services/".concat(e._id)},l.a.createElement(R.a,null,l.a.createElement(y.a,null,e.title),l.a.createElement(Y.a,null,"CATEGORY: ",e.category)),l.a.createElement("img",{width:"100%",src:"unknown"!==e.photoPath||""!==e.photoPath?e.photoPath:"https://picsum.photos/200",alt:"Card cap"}),l.a.createElement(R.a,null,l.a.createElement(H.a,{href:"#"},"Book now"),l.a.createElement(H.a,{href:"/services/".concat(e._id)},"Know more"))))}))))}}]),a}(n.Component),K=a(32),G=(a(118),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={title:"",description:"",date:"",time:""},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(A.a)({},n,l))},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.title,l=a.description,o=a.date,r=a.time,c=e.props.serviceId;w.a.post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/bookings"),{title:n,description:l,service:c,date:o,time:r}).then((function(){e.props.getService(),e.setState({title:"",description:"",date:"",time:""}),Object(L.b)("Booking created!")}))},e}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Add Booking"),l.a.createElement(_.a,{onSubmit:this.handleFormSubmit},l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"title"},"Title"),l.a.createElement(D.a,{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange}))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"date"},"Date"),l.a.createElement(D.a,{type:"date",name:"date",value:this.state.date,onChange:this.handleChange})))),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"time"},"Time"),l.a.createElement(D.a,{type:"time",name:"time",value:this.state.time,onChange:this.handleChange})),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"description"},"Description"),l.a.createElement(D.a,{type:"textarea",name:"description",value:this.state.description,onChange:this.handleChange})),l.a.createElement(E.a,null,"Submit")),l.a.createElement(L.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))}}]),a}(n.Component)),W=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={title:e.props.booking.title,description:e.props.booking.description,date:e.props.booking.date,time:e.props.booking.time},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(A.a)({},n,l))},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.title,l=a.description,o=a.date,r=a.time;w.a.put("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/bookings/").concat(e.props.booking._id),{title:n,description:l,date:o,time:r}).then((function(){e.props.history.push("/services")}))},e.deleteBooking=function(){var t=e.props.match.params;w.a.delete("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/services/").concat(t.id)).then((function(){e.props.history.push("/services")}))},e}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Edit Form"),l.a.createElement(_.a,{onSubmit:this.handleFormSubmit},l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"title"},"Title"),l.a.createElement(D.a,{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange}))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"date"},"Date"),l.a.createElement(D.a,{type:"date",name:"date",value:this.state.date,onChange:this.handleChange})))),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"time"},"Time"),l.a.createElement(D.a,{type:"time",name:"time",value:this.state.time,onChange:this.handleChange})),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"description"},"Description"),l.a.createElement(D.a,{type:"textarea",name:"description",value:this.state.description,onChange:this.handleChange})),l.a.createElement(E.a,null,"Submit")))}}]),a}(n.Component),z=a(66),J=a.n(z),$=a(158),Q=a(159),X=a(160),Z=a(161),ee=a(162),te=a(4),ae=a.n(te),ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={showEditBooking:!1,showAddBooking:!1,event:{title:"",description:"",location:"",startTime:"",endTime:""}},n.getSingleService=function(){var e=n.props.match.params;w.a.get("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/services/").concat(e.id)).then((function(e){var t=e.data;console.log("service found",t),n.setState(t)}))},n.deleteService=function(){var e=n.props.match.params;w.a.delete("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/services/").concat(e.id)).then((function(){n.props.history.push("/services")}))},n.showAddBooking=function(){n.state.showAddBooking?n.setState({showAddBooking:!1}):n.setState({showAddBooking:!0,showEditBooking:!1})},n.showEditBooking=function(){n.state.showEditBooking?n.setState({showEditBooking:!1}):n.setState({showEditBooking:!0,showAddBooking:!1})},n.closeOptions=function(){n.setState({showEditBooking:!1,showAddBooking:!1})},n.deleteBooking=function(e){console.log(e),w.a.delete("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/bookings/").concat(e._id)).then((function(){n.props.history.push("/services")}))},n.handleDate=function(e){return x()(e).format("DD/MM/YYYY")},n.handleCalendarDate=function(e,t){return x()(e+" "+t,"DD/MM/YYYY HH:mm")},n.toggle=n.toggle.bind(Object(K.a)(n)),n.state={activeTab:"1"},n}return Object(s.a)(a,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"componentDidMount",value:function(){this.getSingleService()}},{key:"render",value:function(){var e=this,t={textOnly:"none"},a=this.props.match.params;return l.a.createElement("div",{className:"servicedetails"},l.a.createElement("header",{className:"header"},l.a.createElement("div",{className:"toTheLeft"},l.a.createElement(C.b,{to:"/services"},l.a.createElement(E.a,{color:"link",style:{marginRight:"10px"}},"Back")),l.a.createElement("h1",null,"Details about ",l.a.createElement("span",{style:{fontWeight:"100"}},this.state.title))),l.a.createElement("div",{className:"toTheRight"},this.props.loggedInUser&&l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{color:"danger",onClick:function(){return e.deleteService()}},"Delete Service")),l.a.createElement(C.b,{to:{pathname:"/services/".concat(a.id,"/edit"),state:{title:this.state.title,description:this.state.description,category:this.state.category,photoPath:this.state.photoPath}}},l.a.createElement(E.a,{color:"info"},"Edit Service")),l.a.createElement(E.a,{color:"primary",onClick:this.showAddBooking},"Add Booking"))),l.a.createElement($.a,{tabs:!0},l.a.createElement("div",null,l.a.createElement(Q.a,null,l.a.createElement(X.a,{className:ae()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1"),e.closeOptions()}},"Information")),l.a.createElement(Q.a,null,l.a.createElement(X.a,{className:ae()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2"),e.closeOptions()}},"Bookings")),l.a.createElement(Q.a,null,l.a.createElement(X.a,{className:ae()({active:"3"===this.state.activeTab}),onClick:function(){e.toggle("3"),e.closeOptions()}},"Clients"))),l.a.createElement("div",null,l.a.createElement("p",null,"Vista"))),l.a.createElement(Z.a,{activeTab:this.state.activeTab},l.a.createElement(ee.a,{tabId:"1"},1===this.state.activeTab?l.a.createElement("div",null,l.a.createElement(B.a,null,l.a.createElement(F.a,null,"Service Photo"),l.a.createElement(F.a,null,"Category"),l.a.createElement(F.a,null,"Description")),l.a.createElement(B.a,null,l.a.createElement(F.a,null,l.a.createElement("img",{src:this.state.photoPath,alt:this.state.photoName})),l.a.createElement(F.a,null,l.a.createElement("p",null,this.state.category)),l.a.createElement(F.a,null,l.a.createElement("p",null,this.state.description)))):null),l.a.createElement(ee.a,{tabId:"2"},2===this.state.activeTab?l.a.createElement("div",null,this.state.bookings.map((function(a){return l.a.createElement("div",{key:a._id},l.a.createElement("ul",null,l.a.createElement("li",null,"Title: ",a.title),l.a.createElement("li",null,"Description: ",a.description),l.a.createElement("li",null,"Date: ",e.handleDate(a.date)),l.a.createElement("li",null,"Time: ",a.time),l.a.createElement("li",null,"Client: ",a.client),l.a.createElement("li",null,l.a.createElement("button",{onClick:e.showEditBooking},"Edit")),l.a.createElement("li",null,l.a.createElement("button",{onClick:function(){e.deleteBooking(a)}},"Delete")),e.state.showEditBooking&&l.a.createElement(W,Object.assign({booking:a},e.props)),l.a.createElement(J.a,{event:{title:a.title,description:a.description,startTime:e.handleCalendarDate(e.handleDate(a.date),a.time),endTime:e.handleCalendarDate(e.handleDate(a.date),a.time)},buttonTemplate:t})))}))):null),l.a.createElement(ee.a,{tabId:"3"},3===this.state.activeTab?l.a.createElement("h4",null,"Coming soon..."):null)),this.state.showAddBooking&&l.a.createElement(G,{getService:this.getSingleService,serviceId:this.props.match.params.id}))}}]),a}(n.Component),le=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={title:e.props.location.state.title,category:e.props.location.state.category,description:e.props.location.state.description,photoPath:e.props.location.state.photoPath},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(A.a)({},n,l))},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.title,l=a.category,o=a.description,r=e.props.match.params,c=new FormData;c.append("photoPath",e.state.photoPath),w.a.post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/upload"),c).then((function(t){console.log("image uploaded",t),w.a.put("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/services/").concat(r.id),{title:n,category:l,description:o,photoPath:t.data.photoPath}).then((function(t){Object(L.b)("Service Updated!"),e.props.history.push("/services")}))}))},e.handleFileChange=function(t){e.setState({photoPath:t.target.files[0]})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.match.params;return l.a.createElement("div",null,l.a.createElement(C.b,{to:{pathname:"/services/".concat(e.id)}},"Back"),l.a.createElement("h3",null,"Edit Service"),l.a.createElement(_.a,{onSubmit:this.handleFormSubmit},l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"title"},"Title"),l.a.createElement(D.a,{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange}))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"category"},"Category"),l.a.createElement(D.a,{type:"category",name:"category",value:this.state.category,onChange:this.handleChange})))),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"description"},"Description"),l.a.createElement(D.a,{type:"textarea",name:"description",value:this.state.description,onChange:this.handleChange})),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"file"},"File"),l.a.createElement(D.a,{type:"file",name:"file",onChange:this.handleFileChange}),l.a.createElement(M.a,{color:"muted"},"This is some placeholder block-level help text for the above input. It's a bit lighter and easily wraps to a new line.")),l.a.createElement(E.a,null,"Submit")),l.a.createElement(L.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))}}]),a}(n.Component),oe=(a(119),function e(){var t=this;Object(c.a)(this,e),this.signup=function(e,a,n,l,o,r){return t.service.post("/signup",{username:e,password:a,firstName:n,lastName:l,email:o,type:r}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout").then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data})).catch((function(e){return e}))};var a=w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0});this.service=a}),re=a(164),ce=a(167),se=a(166),ie=a(165),me=a(163),ue=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).service=new oe,e.state={dropdownOpen:!1,totalBookings:0},e.logoutUser=function(){e.service.logout().then((function(){e.props.setCurrentUser(null),localStorage.clear()}))},e.getUserServices=function(){return w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).get("/services").then((function(t){e.setState({listOfServices:t.data})}))},e.countBookings=function(){var t=0;e.state.listOfServices.map((function(e){var a=e.bookings.length;return t+=a})),e.setState({totalBookings:t})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getUserServices().then((function(){e.countBookings()}))}},{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var e=this;return l.a.createElement("nav",{className:"navbar"},l.a.createElement($.a,{pills:!0},l.a.createElement(Q.a,null,l.a.createElement(C.c,{exact:!0,to:"/"},"Home")),this.state.countBookings,this.props.loggedInUser?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"alignright"},l.a.createElement("span",{className:"nav-item"},"Welcome, ",this.props.loggedInUser.firstName,"!"),l.a.createElement("div",{className:"nav-item"},l.a.createElement(E.a,{color:"primary",outline:!0},"Bookings ",l.a.createElement(me.a,{color:"secondary"},this.state.totalBookings))),l.a.createElement(re.a,{nav:!0,isOpen:this.state.dropdownOpen,toggle:function(){return e.toggle()}},l.a.createElement(ce.a,{nav:!0,caret:!0},"My Area"),l.a.createElement(se.a,null,"worker"===this.props.loggedInUser.type?l.a.createElement(l.a.Fragment,null,l.a.createElement(ie.a,{header:!0},"Worker"),l.a.createElement(ie.a,null,l.a.createElement(Q.a,null,l.a.createElement(C.c,{to:"/services"},"My Services"))),l.a.createElement(ie.a,null,l.a.createElement(Q.a,{className:"clients"},l.a.createElement(C.c,{to:"#"},"My Clients"))),l.a.createElement(ie.a,null,l.a.createElement(Q.a,null,l.a.createElement(C.c,{to:"/company"},"My Company")))):l.a.createElement(ie.a,{header:!0},"Client"),l.a.createElement(ie.a,null,l.a.createElement(Q.a,null,l.a.createElement(C.c,{to:"/bookings"},"My Bookings"))),l.a.createElement(ie.a,{divider:!0}),l.a.createElement(ie.a,null,l.a.createElement(Q.a,{className:"settings"},l.a.createElement(C.c,{to:"#"},"Settings"))),l.a.createElement(ie.a,null,l.a.createElement(Q.a,null,l.a.createElement(C.c,{to:"/profile/".concat(this.props.loggedInUser._id)},"Profile"))),l.a.createElement(ie.a,null,l.a.createElement(Q.a,null,l.a.createElement(C.c,{to:"/",onClick:function(){return e.logoutUser()}},"Logout"))))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(Q.a,{className:"search"},l.a.createElement(C.c,{to:"/search"},"Search")),l.a.createElement(Q.a,null,l.a.createElement(C.c,{to:"/login"},"Login")),l.a.createElement(Q.a,null,l.a.createElement(C.c,{to:"/signup"},"Signup")))))}}]),a}(l.a.Component),he=(a(133),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={isBeingEdited:!1,isAdmin:"",title:"",tempLogoPath:"",logoPath:"",logoName:"".concat(e.title,"'s logo"),locationPin:"",phone:"",admins:[],workers:[],verified:!1,companyProof:""},e.handleChange=function(t){console.log("change handle");var a=t.target,n=a.name,l=a.value;e.setState(Object(A.a)({},n,l))},e.handleFileChange=function(t){e.setState({tempLogoPath:t.target.files[0]}),console.log(e.state.tempLogoPath)},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.title,l=a.logoName,o=a.locationPin,r=a.phone,c=a.verified,s=a.companyProof,i=a.isAdmin;if(""===e.state.tempLogoPath)return w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/company"),{title:n,logoName:l,locationPin:o,phone:r,verified:c,companyProof:s,isAdmin:i,logoPath:e.state.tempLogoPath}).then((function(t){console.log("success without photo",t),Object(L.b)("Company was updated!"),e.setState({isBeingEdited:!1});var a=t.data.response._id;e.props.history.push("/company/".concat(a))}));var m=new FormData;m.append("photoPath",e.state.tempLogoPath),w.a.post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/upload"),m).then((function(t){return console.log("goes to cloudinary",t),e.setState({logoPath:t.data.photoPath}),w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/company"),{title:n,logoName:l,locationPin:o,phone:r,verified:c,companyProof:s,isAdmin:i,logoPath:e.state.logoPath}).then((function(t){console.log("success with photo",t),Object(L.b)("Profile was updated!"),e.setState({isBeingEdited:!1});var a=t.data.response._id;e.props.history.push("/company/".concat(a))}))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("component did mount"),console.log("PROPSSSSS",this.props.loggedInUser);var t=this.props.match.params.id;if(console.log("pre",this.props.match.params.id),this.props.match.params.id)return console.log("ENTROUUUUU",this.props.match.params.id),w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).get("/company/".concat(t)).then((function(t){var a=t.data,n=a.title,l=a.logoPath,o=a.logoName,r=a.locationPin,c=a.phone,s=a.admins,i=a.workers,m=a.isAdmin,u=a.verified,h=a.companyProof;e.setState({title:n,logoPath:l,logoName:o,locationPin:r,phone:c,admins:s,workers:i,verified:u,companyProof:h,isAdmin:m})})).catch((function(e){return e}))}},{key:"makeEdit",value:function(){this.setState({isBeingEdited:!this.state.isBeingEdited})}},{key:"render",value:function(){var e=this;console.log("render");var t=this.state,a=t.title,n=t.locationPin,o=t.phone,r=t.verified,c=t.companyProof;return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"My Company"),l.a.createElement("div",{className:"toTheRight"},l.a.createElement(E.a,{color:"primary",onClick:this.handleFormSubmit},"Save"),l.a.createElement(E.a,{onClick:function(){return e.makeEdit()}},this.state.isBeingEdited?"View Mode":"Edit"))),l.a.createElement(L.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),l.a.createElement(_.a,{onSubmit:this.handleFormSubmit,className:"mycompany"},l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"companyName"},"Name"),l.a.createElement(D.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"text",name:"title",id:"title",placeholder:"Escreve o nome da tua empresa aqui...",value:a,onChange:this.handleChange}))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"username"},"Phone"),l.a.createElement(D.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"text",name:"phone",id:"phone",placeholder:"Escreve o telefone aqui...",value:o,onChange:this.handleChange})))),l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,null,"Admin of this Company"),l.a.createElement(D.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"select",name:"isAdmin",id:"isAdmin",value:this.state.isAdmin,onChange:this.handleChange},l.a.createElement("option",{value:"",disabled:!0},"Respons\xe1vel pela tua empresa"),l.a.createElement("option",null,"Eu pr\xf3prio"),l.a.createElement("option",null,"Outro")))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,null,"Location Pin"),l.a.createElement(D.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"text",name:"locationPin",id:"locationPin",placeholder:"Localiza a tua empresa no mapa...",value:n,onChange:this.handleChange})))),l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:3},l.a.createElement("img",{src:this.state.logoPath,alt:"company logo",width:"300",style:{borderRadius:"50%"}})),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,null,"Logo"),l.a.createElement(D.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"file",name:"file",id:"logoPath",onChange:this.handleFileChange}),l.a.createElement(M.a,{color:"muted"},"Insert your company logo here.")))),l.a.createElement("hr",null),l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement("h5",null,"Is your company verified?"),l.a.createElement(I.a,{check:!0},l.a.createElement(T.a,{check:!0},l.a.createElement(D.a,{type:"checkbox",value:r,onChange:this.handleChange})," ","Verify Company"))),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"certificate"},"Certificate Document"),l.a.createElement(D.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"file",name:"file",id:"companyProof",value:c,onChange:this.handleFileChange}),l.a.createElement(M.a,{color:"muted"},"Insert your company proof document here."))))))}}]),a}(l.a.Component)),de=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={name:"",description:"",file:"",feedbackMessage:""},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(A.a)({},n,l))},e.handleFileChange=function(t){e.setState({file:t.target.files[0]})},e.handleSubmit=function(t){t.preventDefault();var a=new FormData;a.append("imageUrl",e.state.file),w.a.post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/upload"),a).then((function(t){console.log("image uploaded",t),w.a.post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/images/create"),{name:e.state.name,description:e.state.description,imageUrl:t.data.imageUrl}).then((function(t){console.log("image created",t),e.setState({name:"",description:"",file:"",feedbackMessage:"Image uploaded sucessfully"})}))}))},e}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"New Image"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Name"),l.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),l.a.createElement("label",null,"Description"),l.a.createElement("textarea",{type:"text",name:"description",value:this.state.description,onChange:this.handleChange}),l.a.createElement("input",{type:"file",onChange:this.handleFileChange}),l.a.createElement("button",{type:"submit"},"Save new image")),l.a.createElement("div",null,this.state.feedbackMessage))}}]),a}(n.Component),ge=(a(134),a(63),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={userInfo:[],isBeingEdited:!1,firstName:"",lastName:"",username:"",password:"",email:"",phone:"",type:"",company:"",birthday:"",photoPath:"",tempPhotoPath:"",loading:!0},e.handleChange=function(t){console.log("change handle");var a=t.target,n=a.name,l=a.value;e.setState(Object(A.a)({},n,l))},e.handleFileChange=function(t){e.setState({tempPhotoPath:t.target.files[0]}),console.log(e.state.tempPhotoPath)},e.handleFormSubmit=function(t){t.preventDefault(),console.log("EVENT TARGET FILES",t.target.files);var a=e.props.match.params.userId,n=e.state,l=n.firstName,o=n.lastName,r=n.username,c=n.password,s=n.email,i=n.company,m=n.phone,u=n.type,h=n.birthday,d=n.tempPhotoPath;if(console.log("PHOTO PATH COMING FROM STATE",d),""===e.state.tempPhotoPath)return w.a.post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/profile/").concat(a),{firstName:l,lastName:o,username:r,password:c,email:s,company:i,phone:m,type:u,birthday:h,photoPath:e.state.photoPath}).then((function(t){console.log("success",t),Object(L.b)("Profile was updated!"),e.setState({isBeingEdited:!1})}));var g=new FormData;g.append("photoPath",e.state.tempPhotoPath),w.a.post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/upload"),g).then((function(t){return console.log("image uploaded",t),e.setState({photoPath:t.data.photoPath}),w.a.post("".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb","/profile/").concat(a),{firstName:l,lastName:o,username:r,password:c,email:s,company:i,phone:m,type:u,birthday:h,photoPath:t.data.photoPath}).then((function(t){console.log("success",t),Object(L.b)("Profile was updated!"),e.setState({isBeingEdited:!1})}))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("component did mount");var t=this.props.match.params.userId;return w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).get("/profile/".concat(t)).then((function(t){var a=t.data,n=a.firstName,l=a.lastName,o=a.username,r=a.password,c=a.email,s=a.phone,i=a.type,m=a.company,u=a.birthday,h=a.photoPath;e.setState({userInfo:t.data,firstName:n,email:c,lastName:l,username:o,password:r,phone:s,type:i,company:m,birthday:u,photoPath:h,loading:!1}),console.log(t.data),console.log("PHOTO PATH COMING FROM SERVER",h)})).catch((function(e){return e}))}},{key:"makeEdit",value:function(){this.setState({isBeingEdited:!this.state.isBeingEdited})}},{key:"render",value:function(){var e=this;console.log("render");var t=this.state,a=t.firstName,n=t.lastName,o=t.username,r=t.email,c=t.phone,s=t.type,i=t.company,m=t.birthday,u=t.photoPath,h=t.loading,g=t.isBeingEdited;return l.a.createElement(l.a.Fragment,null,h&&l.a.createElement(d,null),l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"Profile"),l.a.createElement("div",{className:"toTheRight"},l.a.createElement(E.a,{color:"primary",onClick:this.handleFormSubmit},"Save"),l.a.createElement(E.a,{onClick:function(){return e.makeEdit()}},g?"View Mode":"Edit"))),l.a.createElement(L.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),l.a.createElement(_.a,{onSubmit:this.handleFormSubmit,className:"profile"},l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:3},l.a.createElement("img",{src:u,alt:"profile user",width:"300",style:{borderRadius:"50%"}})),l.a.createElement(F.a,{md:9},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"username"},"Username"),l.a.createElement(D.a,{disabled:g?"":"disabled",type:"text",name:"username",id:"username",placeholder:"Escreve o teu username aqui...",value:o,onChange:this.handleChange})),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"exampleEmail"},"Email"),l.a.createElement(D.a,{disabled:g?"":"disabled",type:"email",name:"email",id:"email",placeholder:"Escreve o teu email aqui...",value:r,onChange:this.handleChange})))),l.a.createElement("br",null),l.a.createElement("p",{className:"text-info"},"Security information"),l.a.createElement("hr",null),l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:12},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"examplePassword"},"Password"),l.a.createElement(D.a,{type:"password",name:"password",id:"examplePassword",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf",disabled:!0,onChange:this.handleChange})))),l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,null,"First Name"),l.a.createElement(D.a,{disabled:g?"":"disabled",type:"text",name:"firstName",id:"firstName",placeholder:"Escreve o teu primeiro nome aqui...",value:a,onChange:this.handleChange}))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,null,"Last Name"),l.a.createElement(D.a,{disabled:g?"":"disabled",type:"text",name:"lastName",id:"lastName",placeholder:"Escreve o teu \xfaltimo nome aqui...",value:n,onChange:this.handleChange})))),l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,null,"Phone"),l.a.createElement(D.a,{disabled:g?"":"disabled",type:"text",name:"phone",id:"phone",placeholder:"Escreve o teu contacto aqui...",value:c,onChange:this.handleChange}))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,null,"Birthday"),l.a.createElement(D.a,{disabled:g?"":"disabled",type:"text",name:"birthday",id:"birthday",placeholder:"Escolhe a tua data de anivers\xe1rio...",value:m,onChange:this.handleChange})))),l.a.createElement("br",null),l.a.createElement("p",{className:"text-info"},"Professional details"),l.a.createElement("hr",null),l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:12},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"company"},"Company"),l.a.createElement(D.a,{disabled:g?"":"disabled",type:"text",name:"company",id:"company",placeholder:"Escreve o nome da tua empresa aqui",value:i,onChange:this.handleChange})))),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"typeofuser"},"Role"),l.a.createElement(D.a,{disabled:g?"":"disabled",type:"select",name:"type",id:"typeofuser",value:s,onChange:this.handleChange},l.a.createElement("option",{value:"",disabled:!0},"Select your option"),l.a.createElement("option",{id:"worker"},"Providing services"),l.a.createElement("option",{id:"client"},"Looking for services"),l.a.createElement("option",{id:"combo"},"Both"))),l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"exampleFile"},"Profile Photo"),l.a.createElement(D.a,{disabled:g?"":"disabled",type:"file",name:"file",id:"photoPath",onChange:this.handleFileChange}),l.a.createElement(M.a,{color:"muted"},"Insert your profile photo here."))))}}]),a}(l.a.Component)),pe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={username:"",password:"",email:"",errorMessage:"",listOfServices:[]},e.service=new oe,e.handleChange=function(t){var a,n=t.target,l=n.name,o=n.value;e.setState((a={},Object(A.a)(a,l,o),Object(A.a)(a,"errorMessage",""),a))},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,l=a.password;e.service.login(n,l).then((function(t){t.message?e.setState({errorMessage:"Combina\xe7\xe3o de credenciais errada. Tente novamente."}):(e.props.setCurrentUser(t),e.setState({username:"",password:"",email:""}),localStorage.setItem("loggedin",!0),e.props.history.push("/"))}))},e.getUserServices=function(){return w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).get("/services").then((function(t){e.setState({listOfServices:t.data})}))},e.handleNotification=function(){e.getUserServices(),e.state.listOfServices.map((function(e){e.bookings.length>=1&&e.bookings.map((function(e){return console.log("ESTE",e),w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).get("/bookings/".concat(e)).then((function(e){console.log("IDSDAA",e);var t=e.data;console.log(t),console.log(t.date)}))}))}))},e}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(_.a,{onSubmit:this.handleFormSubmit},l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"username"},"Username:"),l.a.createElement(D.a,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,placeholder:"Escreve o teu username aqui..."}))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"password"},"Password:"),l.a.createElement(D.a,{name:"password",type:"password",value:this.state.password,onChange:this.handleChange,placeholder:"\u25cf \u25cf \u25cf \u25cf \u25cf"})))),this.state.errorMessage&&l.a.createElement("p",{className:"error"}," ",this.state.errorMessage," "),l.a.createElement(E.a,{type:"submit"},"Sign in"),l.a.createElement(I.a,{style:{marginTop:"10px"}},l.a.createElement("p",null,"Don't have account?",l.a.createElement(C.b,{to:"/signup"}," | Signup")))))}}]),a}(n.Component),Ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={username:"",password:"",firstName:"",lastName:"",email:"",type:"",errorMessage:""},e.service=new oe,e.handleFormSubmit=function(t){t.preventDefault(),console.log("type",e.state.type);var a=e.state,n=a.username,l=a.password,o=a.firstName,r=a.lastName,c=a.email,s=a.type;e.service.signup(n,l,o,r,c,s).then((function(t){e.setState({username:"",password:"",firstName:"",lastName:"",email:"",type:""}),e.props.setCurrentUser(t),localStorage.setItem("loggedin",!0),e.props.history.push("/")})).catch((function(e){console.log(e.message)}))},e.handleChange=function(t){var a,n=t.target,l=n.name,o=n.value;e.setState((a={},Object(A.a)(a,l,o),Object(A.a)(a,"errorMessage",""),a))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.firstName,o=e.lastName,r=e.email,c=e.type;return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"Signup")),l.a.createElement("p",{className:"text-info margin-content"},"Your personal informations"),l.a.createElement("hr",null),l.a.createElement(_.a,{onSubmit:this.handleFormSubmit},l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"email"},"Email:"),l.a.createElement(D.a,{type:"text",name:"email",value:r,onChange:this.handleChange,placeholder:"Escreve o teu email aqui..."}))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"password"},"Password:"),l.a.createElement(D.a,{name:"password",type:"password",value:a,onChange:this.handleChange,placeholder:"\u25cf \u25cf \u25cf \u25cf \u25cf"})))),l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"username"},"First Name:"),l.a.createElement(D.a,{type:"text",name:"firstName",value:n,onChange:this.handleChange,placeholder:"Escreve o teu primeiro nome aqui..."}))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"password"},"Last Name:"),l.a.createElement(D.a,{type:"text",name:"lastName",value:o,onChange:this.handleChange})))),l.a.createElement(B.a,{form:!0},l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"username"},"Username:"),l.a.createElement(D.a,{type:"text",name:"username",value:t,onChange:this.handleChange,placeholder:"Escreve o teu username aqui..."}))),l.a.createElement(F.a,{md:6},l.a.createElement(I.a,null,l.a.createElement(T.a,{for:"typeofuser"},"Role"),l.a.createElement(D.a,{type:"select",name:"type",id:"typeofuser",value:c,onChange:this.handleChange},l.a.createElement("option",{value:"",disabled:!0},"Select your user type..."),l.a.createElement("option",{value:"worker",id:"worker"},"Providing services"),l.a.createElement("option",{value:"client",id:"client"},"Looking for services"))))),this.state.errorMessage&&l.a.createElement("p",{className:"error"}," ",this.state.errorMessage," "),l.a.createElement(E.a,null,"Sign up"),l.a.createElement(I.a,{style:{marginTop:"10px"}},l.a.createElement("p",null,"Already have account?",l.a.createElement(C.b,{to:"/login"}," Login")))))}}]),a}(n.Component);a(135);var fe=function(){return l.a.createElement("section",{className:"notfound"},l.a.createElement("h1",null,"This page does not exist"),l.a.createElement("a",{href:"/"},"Get back home!"))},be=a(69),ve=(a(136),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={listOfServices:[],bookings:[]},e.getUserServices=function(){return w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).get("/services").then((function(t){console.log("response",t),e.setState({listOfServices:t.data})}))},e.getUserBookings=function(){e.getUserServices().then((function(){console.log("list of servicessssss",e.state.listOfServices),e.state.listOfServices.map((function(t){t.bookings.length>=1&&(console.log("responseeeeeeeee",t.bookings),t.bookings.map((function(t){return console.log("ESTE",t),w.a.create({baseURL:"".concat("mongodb://heroku_gxlftxcb:7pq7ajrb3g24huie5744tog4ce@ds211709.mlab.com:11709/heroku_gxlftxcb"),withCredentials:!0}).get("/bookings/".concat(t)).then((function(t){console.log("OLHAAAA",t.data.date),console.log("FESTAAAAAAA",t),console.log("OLHAAA2",x.a.utc(t.data.date).utc().format("MM/DD/YYYY"));var a=x.a.utc(t.data.date).utc().format("MM/DD/YYYY"),n=t.data,l=n.confirmationStatus,o=n.logStatus,r=n.time,c=n.title;e.setState({bookings:[].concat(Object(be.a)(e.state.bookings),[{confirmationStatus:l,date:a,logStatus:o,time:r,title:c}])})}))})))}))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getUserBookings()}},{key:"render",value:function(){var e=this.state.bookings;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"My Bookings"),l.a.createElement("section",{className:"bookinglist"},e.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{key:e._id},l.a.createElement("span",null,l.a.createElement(p.a,null,l.a.createElement("strong",null,e.title)),l.a.createElement(R.a,null,l.a.createElement("strong",null,"Date:"),"  ",e.date,"  |  ",l.a.createElement("strong",null,"Time:"),"  ",e.time)),l.a.createElement(E.a,null,"+")))}))))}}]),a}(n.Component)),ye=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).service=new oe,e.state={loggedInUser:null,loading:!0},e.setCurrentUser=function(t){e.setState({loggedInUser:t})},e.fetchUser=function(t){null===e.state.loggedInUser&&e.service.loggedin().then((function(t){console.log("response from fetch user",t),t._id?(console.log("COM SUCESSO"),localStorage.setItem("loggedin",!0),e.setCurrentUser(t)):(console.log("FAILURE"),localStorage.clear(),e.props.history.push("/"))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchUser(),this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(j.Notifications,null),l.a.createElement(ue,{loggedInUser:this.state.loggedInUser,setCurrentUser:this.setCurrentUser}),l.a.createElement("section",{className:"maincontent"},this.state.loading&&l.a.createElement(d,null),l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/",render:function(t){return l.a.createElement(P,Object.assign({isLoggedIn:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/login",render:function(t){return l.a.createElement(pe,Object.assign({setCurrentUser:e.setCurrentUser},t))}}),l.a.createElement(u.b,{path:"/signup",render:function(t){return l.a.createElement(Ee,Object.assign({setCurrentUser:e.setCurrentUser},t))}}),l.a.createElement(u.b,{exact:!0,path:"/images/add",component:de}),l.a.createElement(u.b,{exact:!0,path:"/services",render:function(t){return l.a.createElement(V,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{exact:!0,path:"/services/:id",render:function(t){return l.a.createElement(ne,Object.assign({},t,{loggedInUser:e.state.loggedInUser}))}}),l.a.createElement(u.b,{exact:!0,path:"/services/:id/edit",render:function(t){return localStorage.getItem("loggedin")?l.a.createElement(le,Object.assign({loggedInUser:e.state.loggedInUser},t)):l.a.createElement(u.a,{to:"/login"})}}),l.a.createElement(u.b,{exact:!0,path:"/profile/:userId",render:function(e){return localStorage.getItem("loggedin")?l.a.createElement(ge,e):l.a.createElement(u.a,{to:"/login"})}}),l.a.createElement(u.b,{exact:!0,path:"/bookings",render:function(t){return localStorage.getItem("loggedin")?l.a.createElement(ve,Object.assign({loggedInUser:e.state.loggedInUser},t)):l.a.createElement(u.a,{to:"/login"})}}),l.a.createElement(u.b,{exact:!0,path:"/company",render:function(t){if(localStorage.getItem("loggedin"))return l.a.createElement(he,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{exact:!0,path:"/company/:id",render:function(t){if(localStorage.getItem("loggedin"))return l.a.createElement(he,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"*",component:function(){return l.a.createElement(fe,null)}}))),l.a.createElement(U,null))}}]),a}(n.Component),ke=Object(u.g)(ye);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(C.a,null,l.a.createElement(ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports=a(137)},75:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.8b09a910.chunk.js.map