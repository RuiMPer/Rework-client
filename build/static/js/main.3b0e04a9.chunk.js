(this["webpackJsonpproject-management-client"]=this["webpackJsonpproject-management-client"]||[]).push([[0],{116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),l=a.n(o),c=(a(75),a(76),a(8)),s=a(9),i=a(11),m=a(10),h=(a(77),a(15)),u=a(140),d=(a(78),function(e){return r.a.createElement("div",{className:"loading"},r.a.createElement(u.a,{type:"grow",color:"success"})," Loading...")}),p=(a(81),a(141)),g=a(142),E=a(65),f=a(143),v=a(144),b=a(145),y=a(146),k=a(147),C=a(12),S=a(23),w=a.n(S),O=a(6),j=a.n(O),N=a(33),P=a.n(N),U=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={listOfServices:[]},e.getUserServices=function(){return j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).get("/services").then((function(t){e.setState({listOfServices:t.data})}))},e.handleNotification=function(){e.getUserServices();var t=w()().format("DD/MM/YYYY"),a=[];e.state.listOfServices.map((function(e){e.bookings.length>=1&&e.bookings.map((function(e){return console.log("ESTE",e),j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).get("/bookings/".concat(e)).then((function(e){console.log("IDSDAA",e);var a=e.data;console.log(a),console.log(a.date);var n=w()(e.date).subtract(1,"days").format("DD/MM/YYYY");console.log(e.date),console.log("hoje",t),console.log("dia notifica\xe7\xe3o",n)}))}))})),a.length>=1&&console.log("OUTRO",a)},e.Page=function(){return r.a.createElement("div",{className:"page"},(P()({title:"New Booking",subtitle:"Sadas",message:"asdasd",theme:"darkblue",native:!0}),void console.log("olhaeste ",e.props)))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getUserServices()}},{key:"render",value:function(){return r.a.createElement("section",{className:"home"},this.props.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"My Services"),r.a.createElement("section",{className:"servicesnahome"},0===this.state.listOfServices.length&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("p",{style:{marginTop:"10px"}},"There is still no services to show.")),this.state.listOfServices.length>0&&r.a.createElement(r.a.Fragment,null,this.state.listOfServices.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.b,{to:"/services/".concat(e._id)},r.a.createElement(p.a,{key:e._id},r.a.createElement(g.a,{tag:"h3"},e.title),r.a.createElement(E.a,null,"+"))))})))),r.a.createElement("hr",null)),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("h3",null,"How things work at Rework:"),r.a.createElement(f.a,null,r.a.createElement("span",{className:"lead"},"1 - "),r.a.createElement("span",null,"Advertise your services and manage booking."),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("span",{className:"lead"},"2 - "),r.a.createElement("span",null,"Look for what you need."),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("span",{className:"lead"},"3 - "),r.a.createElement("span",null,"Get notified about upcoming appointments."),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("p",{className:"lead"},r.a.createElement(E.a,{color:"primary"},"Start Now!"))),r.a.createElement("h3",null,"All our categories"),r.a.createElement(p.a,{inverse:!0,className:"category-card"},r.a.createElement(v.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?health,human",alt:"Card cap"}),r.a.createElement(b.a,null,r.a.createElement(y.a,null,"HEALTH"),r.a.createElement(k.a,null,r.a.createElement("small",null,"Know more +")))),r.a.createElement(p.a,{inverse:!0,className:"category-card"},r.a.createElement(v.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?technology",alt:"Card cap"}),r.a.createElement(b.a,null,r.a.createElement(y.a,null,"TECHNOLOGY"),r.a.createElement(k.a,null,r.a.createElement("small",null,"Know more +")))),r.a.createElement(p.a,{inverse:!0,className:"category-card"},r.a.createElement(v.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?beauty,aesthetics",alt:"Card cap"}),r.a.createElement(b.a,null,r.a.createElement(y.a,null,"BEAUTY & PERSONAL CARE"),r.a.createElement(k.a,null,r.a.createElement("small",null,"Know more +")))),r.a.createElement(p.a,{inverse:!0,className:"category-card"},r.a.createElement(v.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?dyi,repairs,handy",alt:"Card cap"}),r.a.createElement(b.a,null,r.a.createElement(y.a,null,"HOME REPAIRS"),r.a.createElement(k.a,null,r.a.createElement("small",null,"Know more +")))),r.a.createElement(p.a,{inverse:!0,className:"category-card"},r.a.createElement(v.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?cooking",alt:"Card cap"}),r.a.createElement(b.a,null,r.a.createElement(y.a,null,"COOKING"),r.a.createElement(k.a,null,r.a.createElement("small",null,"Know more +")))),r.a.createElement(p.a,{inverse:!0,className:"category-card"},r.a.createElement(v.a,{width:"100%",src:"https://source.unsplash.com/1600x900/?education",alt:"Card image cap"}),r.a.createElement(b.a,null,r.a.createElement(y.a,null,"EDUCATION"),r.a.createElement(k.a,null,r.a.createElement("small",null,"Know more +")))))}}]),a}(n.Component);a(116);var A=function(){return r.a.createElement("footer",{className:"footer bg-info",style:{padding:".5rem",textAlign:"center"}},r.a.createElement("div",{className:"clearfix",style:{maxWidth:"980px",margin:"auto"}},r.a.createElement("p",{className:"float-right"},"2020 | Re-WORK   /   Credits: R, M.")))},B=a(17),F=a(148),x=a(149),I=a(150),T=a(151),D=a(152),M=a(153),L=a(154),R=a(18),Y=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={category:[],title:"",description:"",photoPath:[],author:"",errorMessage:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(B.a)({},n,r))},e.handleFileChange=function(t){e.setState({photoPath:t.target.files[0]})},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.category,r=a.title,o=a.description,l=a.photoPath,c=e.props.userId,s=new FormData;s.append("photoPath",l),n&&r&&o&&l?e.setState({errorMessage:""}):e.setState({errorMessage:"All fields are compulsory! Complete your form, please."}),j.a.post("".concat("https://rework-project.herokuapp.com/","/upload"),s).then((function(t){console.log("USer",c),console.log("image uploaded",t),j.a.post("".concat("https://rework-project.herokuapp.com/","/services"),{category:n,title:r,description:o,photoPath:t.data.photoPath,author:c}).then((function(t){console.log("service created",t),e.props.refreshServices(),e.setState({category:[],title:"",description:"",photoPath:[],author:""}),Object(R.b)("Service created with super success!")}))}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(F.a,{onSubmit:this.handleFormSubmit},r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"title"},"Title"),r.a.createElement(M.a,{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange}))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"category"},"Category"),r.a.createElement(M.a,{type:"text",name:"category",value:this.state.category,onChange:this.handleChange})))),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"description"},"Description"),r.a.createElement(M.a,{type:"textarea",name:"description",value:this.state.description,onChange:this.handleChange})),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"file"},"File"),r.a.createElement(M.a,{type:"file",name:"file",onChange:this.handleFileChange}),r.a.createElement(L.a,{color:"muted"},"Add relevant photos to illustrate the services you provide.")),r.a.createElement(E.a,null,"Submit"),this.state.errorMessage&&r.a.createElement("p",{className:"error",style:{marginTop:"10px"}}," ",this.state.errorMessage," ")))}}]),a}(n.Component),H=(a(117),a(155)),_=a(156),q=a(157),V=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={listOfServices:[],showAddService:!1},e.getUserServices=function(){return e.setState({showAddService:!1}),j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).get("/services").then((function(t){e.setState({listOfServices:t.data})}))},e.showAddService=function(){e.state.showAddService?e.setState({showAddService:!1}):e.setState({showAddService:!0})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getUserServices()}},{key:"render",value:function(){var e=this,t=this.state.showAddService;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"My Services"),r.a.createElement(E.a,{onClick:function(){return e.showAddService()},className:t?"openAdd":null},t?"Cancelar":"Add Service")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{userId:this.props.loggedInUser._id,refreshServices:this.getUserServices})),r.a.createElement("section",{className:"maincontent servicelist"},!this.state.showAddService&&0===this.state.listOfServices.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"noresultswrap"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},r.a.createElement("path",{d:"M15,109.8l48,17c0,0,0,0,0,0c0.1,0,0.2,0.1,0.3,0.1c0.1,0,0.1,0,0.2,0c0.1,0,0.2,0,0.4,0c0,0,0.1,0,0.1,0c0.2,0,0.3,0,0.5,0 c0,0,0.1,0,0.1,0c0.1,0,0.2-0.1,0.3-0.1c0,0,0,0,0,0l48-17c1.2-0.4,2-1.6,2-2.8V73.4l10-3.5c0.8-0.3,1.5-1,1.8-1.8s0.2-1.8-0.3-2.6 l-12-20c0,0,0,0,0-0.1c0-0.1-0.1-0.1-0.1-0.2c0,0,0,0,0-0.1c0,0,0,0,0,0c0-0.1-0.1-0.1-0.1-0.2c0,0-0.1-0.1-0.1-0.1c0,0,0,0-0.1-0.1 c0,0,0,0-0.1,0c-0.1,0-0.1-0.1-0.2-0.1c0,0-0.1-0.1-0.1-0.1c0,0,0,0-0.1,0c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.2-0.1 c-0.1,0-0.1,0-0.2-0.1c0,0,0,0-0.1,0c0,0,0,0,0,0l-48-17c-0.2-0.1-0.4-0.1-0.6-0.1c0,0-0.1,0-0.1,0c-0.2,0-0.3,0-0.5,0 c-0.1,0-0.1,0-0.2,0c-0.2,0-0.4,0.1-0.6,0.1l-48,17c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c-0.1,0.1-0.3,0.1-0.4,0.2 c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.1-0.4,0.3-0.6,0.5l0,0c0,0-0.1,0.1-0.1,0.1c0,0,0,0,0,0c-0.1,0.1-0.1,0.2-0.2,0.2c0,0,0,0,0,0 c0,0,0,0-0.1,0.1l-12,20C1,66.2,0.9,67.2,1.2,68s1,1.5,1.8,1.8l10,3.5V107C13,108.3,13.8,109.4,15,109.8z M109,104.9l-42,14.9V95.7 c0-1.7-1.3-3-3-3s-3,1.3-3,3v24.1l-42-14.9V75.5l32,11.3c0.3,0.1,0.7,0.2,1,0.2c1,0,2-0.5,2.6-1.5L64,69.8l9.4,15.7 C74,86.5,75,87,76,87c0.3,0,0.7-0.1,1-0.2l32-11.3V104.9z M67,34.2L103,47L67,59.8V34.2z M77.3,80.4l-8.9-14.8l42.2-15l8.9,14.8 L77.3,80.4z M17.3,50.6l42.2,15l-8.9,14.8l-42.2-15L17.3,50.6z"})),r.a.createElement("p",{className:"noresults"},"There is still no services to show."))),this.state.listOfServices.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(p.a,{to:"/services/".concat(e._id)},r.a.createElement(H.a,null,r.a.createElement(y.a,null,e.title),r.a.createElement(_.a,null,"CATEGORY: ",e.category)),r.a.createElement("img",{width:"100%",src:"unknown"!==e.photoPath||""!==e.photoPath?e.photoPath:"https://picsum.photos/200",alt:"Card cap"}),r.a.createElement(H.a,null,r.a.createElement(q.a,{href:"#"},"Book now"),r.a.createElement(q.a,{href:"/services/".concat(e._id)},"Know more"))))}))))}}]),a}(n.Component),K=a(32),G=(a(118),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:"",description:"",date:"",time:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(B.a)({},n,r))},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.title,r=a.description,o=a.date,l=a.time,c=e.props.serviceId;j.a.post("".concat("https://rework-project.herokuapp.com/","/bookings"),{title:n,description:r,service:c,date:o,time:l}).then((function(){e.props.getService(),e.setState({title:"",description:"",date:"",time:""}),Object(R.b)("Booking created!")}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Add Booking"),r.a.createElement(F.a,{onSubmit:this.handleFormSubmit},r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"title"},"Title"),r.a.createElement(M.a,{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange}))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"date"},"Date"),r.a.createElement(M.a,{type:"date",name:"date",value:this.state.date,onChange:this.handleChange})))),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"time"},"Time"),r.a.createElement(M.a,{type:"time",name:"time",value:this.state.time,onChange:this.handleChange})),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"description"},"Description"),r.a.createElement(M.a,{type:"textarea",name:"description",value:this.state.description,onChange:this.handleChange})),r.a.createElement(E.a,null,"Submit")),r.a.createElement(R.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))}}]),a}(n.Component)),W=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:e.props.booking.title,description:e.props.booking.description,date:e.props.booking.date,time:e.props.booking.time},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(B.a)({},n,r))},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.title,r=a.description,o=a.date,l=a.time;j.a.put("".concat("https://rework-project.herokuapp.com/","/bookings/").concat(e.props.booking._id),{title:n,description:r,date:o,time:l}).then((function(){e.props.history.push("/services")}))},e.deleteBooking=function(){var t=e.props.match.params;j.a.delete("".concat("https://rework-project.herokuapp.com/","/services/").concat(t.id)).then((function(){e.props.history.push("/services")}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Edit Form"),r.a.createElement(F.a,{onSubmit:this.handleFormSubmit},r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"title"},"Title"),r.a.createElement(M.a,{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange}))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"date"},"Date"),r.a.createElement(M.a,{type:"date",name:"date",value:this.state.date,onChange:this.handleChange})))),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"time"},"Time"),r.a.createElement(M.a,{type:"time",name:"time",value:this.state.time,onChange:this.handleChange})),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"description"},"Description"),r.a.createElement(M.a,{type:"textarea",name:"description",value:this.state.description,onChange:this.handleChange})),r.a.createElement(E.a,null,"Submit")))}}]),a}(n.Component),z=a(66),J=a.n(z),$=a(158),Q=a(159),X=a(160),Z=a(161),ee=a(162),te=a(4),ae=a.n(te),ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={showEditBooking:!1,showAddBooking:!1,event:{title:"",description:"",location:"",startTime:"",endTime:""}},n.getSingleService=function(){var e=n.props.match.params;j.a.get("".concat("https://rework-project.herokuapp.com/","/services/").concat(e.id)).then((function(e){var t=e.data;console.log("service found",t),n.setState(t)}))},n.deleteService=function(){var e=n.props.match.params;j.a.delete("".concat("https://rework-project.herokuapp.com/","/services/").concat(e.id)).then((function(){n.props.history.push("/services")}))},n.showAddBooking=function(){n.state.showAddBooking?n.setState({showAddBooking:!1}):n.setState({showAddBooking:!0,showEditBooking:!1})},n.showEditBooking=function(){n.state.showEditBooking?n.setState({showEditBooking:!1}):n.setState({showEditBooking:!0,showAddBooking:!1})},n.closeOptions=function(){n.setState({showEditBooking:!1,showAddBooking:!1})},n.deleteBooking=function(e){console.log(e),j.a.delete("".concat("https://rework-project.herokuapp.com/","/bookings/").concat(e._id)).then((function(){n.props.history.push("/services")}))},n.handleDate=function(e){return w()(e).format("DD/MM/YYYY")},n.handleCalendarDate=function(e,t){return w()(e+" "+t,"DD/MM/YYYY HH:mm")},n.toggle=n.toggle.bind(Object(K.a)(n)),n.state={activeTab:"1"},n}return Object(s.a)(a,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"componentDidMount",value:function(){this.getSingleService()}},{key:"render",value:function(){var e=this,t={textOnly:"none"},a=this.props.match.params;return r.a.createElement("div",{className:"servicedetails"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"toTheLeft"},r.a.createElement(C.b,{to:"/services"},r.a.createElement(E.a,{color:"link",style:{marginRight:"10px"}},"Back")),r.a.createElement("h1",null,"Details about ",r.a.createElement("span",{style:{fontWeight:"100"}},this.state.title))),r.a.createElement("div",{className:"toTheRight"},this.props.loggedInUser&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{color:"danger",onClick:function(){return e.deleteService()}},"Delete Service")),r.a.createElement(C.b,{to:{pathname:"/services/".concat(a.id,"/edit"),state:{title:this.state.title,description:this.state.description,category:this.state.category,photoPath:this.state.photoPath}}},r.a.createElement(E.a,{color:"info"},"Edit Service")),r.a.createElement(E.a,{color:"primary",onClick:this.showAddBooking},"Add Booking"))),r.a.createElement($.a,{tabs:!0},r.a.createElement("div",null,r.a.createElement(Q.a,null,r.a.createElement(X.a,{className:ae()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1"),e.closeOptions()}},"Information")),r.a.createElement(Q.a,null,r.a.createElement(X.a,{className:ae()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2"),e.closeOptions()}},"Bookings")),r.a.createElement(Q.a,null,r.a.createElement(X.a,{className:ae()({active:"3"===this.state.activeTab}),onClick:function(){e.toggle("3"),e.closeOptions()}},"Clients"))),r.a.createElement("div",null,r.a.createElement("p",null,"Vista"))),r.a.createElement(Z.a,{activeTab:this.state.activeTab},r.a.createElement(ee.a,{tabId:"1"},1===this.state.activeTab?r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(I.a,null,"Service Photo"),r.a.createElement(I.a,null,"Category"),r.a.createElement(I.a,null,"Description")),r.a.createElement(x.a,null,r.a.createElement(I.a,null,r.a.createElement("img",{src:this.state.photoPath,alt:this.state.photoName})),r.a.createElement(I.a,null,r.a.createElement("p",null,this.state.category)),r.a.createElement(I.a,null,r.a.createElement("p",null,this.state.description)))):null),r.a.createElement(ee.a,{tabId:"2"},2===this.state.activeTab?r.a.createElement("div",null,this.state.bookings.map((function(a){return r.a.createElement("div",{key:a._id},r.a.createElement("ul",null,r.a.createElement("li",null,"Title: ",a.title),r.a.createElement("li",null,"Description: ",a.description),r.a.createElement("li",null,"Date: ",e.handleDate(a.date)),r.a.createElement("li",null,"Time: ",a.time),r.a.createElement("li",null,"Client: ",a.client),r.a.createElement("li",null,r.a.createElement("button",{onClick:e.showEditBooking},"Edit")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){e.deleteBooking(a)}},"Delete")),e.state.showEditBooking&&r.a.createElement(W,Object.assign({booking:a},e.props)),r.a.createElement(J.a,{event:{title:a.title,description:a.description,startTime:e.handleCalendarDate(e.handleDate(a.date),a.time),endTime:e.handleCalendarDate(e.handleDate(a.date),a.time)},buttonTemplate:t})))}))):null),r.a.createElement(ee.a,{tabId:"3"},3===this.state.activeTab?r.a.createElement("h4",null,"Coming soon..."):null)),this.state.showAddBooking&&r.a.createElement(G,{getService:this.getSingleService,serviceId:this.props.match.params.id}))}}]),a}(n.Component),re=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:e.props.location.state.title,category:e.props.location.state.category,description:e.props.location.state.description,photoPath:e.props.location.state.photoPath},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(B.a)({},n,r))},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.title,r=a.category,o=a.description,l=e.props.match.params,c=new FormData;c.append("photoPath",e.state.photoPath),j.a.post("".concat("https://rework-project.herokuapp.com/","/upload"),c).then((function(t){console.log("image uploaded",t),j.a.put("".concat("https://rework-project.herokuapp.com/","/services/").concat(l.id),{title:n,category:r,description:o,photoPath:t.data.photoPath}).then((function(t){Object(R.b)("Service Updated!"),e.props.history.push("/services")}))}))},e.handleFileChange=function(t){e.setState({photoPath:t.target.files[0]})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.match.params;return r.a.createElement("div",null,r.a.createElement(C.b,{to:{pathname:"/services/".concat(e.id)}},"Back"),r.a.createElement("h3",null,"Edit Service"),r.a.createElement(F.a,{onSubmit:this.handleFormSubmit},r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"title"},"Title"),r.a.createElement(M.a,{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange}))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"category"},"Category"),r.a.createElement(M.a,{type:"category",name:"category",value:this.state.category,onChange:this.handleChange})))),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"description"},"Description"),r.a.createElement(M.a,{type:"textarea",name:"description",value:this.state.description,onChange:this.handleChange})),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"file"},"File"),r.a.createElement(M.a,{type:"file",name:"file",onChange:this.handleFileChange}),r.a.createElement(L.a,{color:"muted"},"This is some placeholder block-level help text for the above input. It's a bit lighter and easily wraps to a new line.")),r.a.createElement(E.a,null,"Submit")),r.a.createElement(R.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))}}]),a}(n.Component),oe=(a(119),function e(){var t=this;Object(c.a)(this,e),this.signup=function(e,a,n,r,o,l){return t.service.post("/signup",{username:e,password:a,firstName:n,lastName:r,email:o,type:l}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout").then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data})).catch((function(e){return e}))};var a=j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0});this.service=a}),le=a(164),ce=a(167),se=a(166),ie=a(165),me=a(163),he=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).service=new oe,e.state={dropdownOpen:!1,totalBookings:0},e.logoutUser=function(){e.service.logout().then((function(){e.props.setCurrentUser(null),localStorage.clear()}))},e.getUserServices=function(){return j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).get("/services").then((function(t){e.setState({listOfServices:t.data})}))},e.countBookings=function(){var t=0;e.state.listOfServices.map((function(e){var a=e.bookings.length;return t+=a})),e.setState({totalBookings:t})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getUserServices().then((function(){e.countBookings()}))}},{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar"},r.a.createElement($.a,{pills:!0},r.a.createElement(Q.a,null,r.a.createElement(C.c,{exact:!0,to:"/"},"Home")),this.state.countBookings,this.props.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alignright"},r.a.createElement("span",{className:"nav-item"},"Welcome, ",this.props.loggedInUser.firstName,"!"),r.a.createElement("div",{className:"nav-item"},r.a.createElement(E.a,{color:"primary",outline:!0},"Bookings ",r.a.createElement(me.a,{color:"secondary"},this.state.totalBookings))),r.a.createElement(le.a,{nav:!0,isOpen:this.state.dropdownOpen,toggle:function(){return e.toggle()}},r.a.createElement(ce.a,{nav:!0,caret:!0},"My Area"),r.a.createElement(se.a,null,"worker"===this.props.loggedInUser.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{header:!0},"Worker"),r.a.createElement(ie.a,null,r.a.createElement(Q.a,null,r.a.createElement(C.c,{to:"/services"},"My Services"))),r.a.createElement(ie.a,null,r.a.createElement(Q.a,{className:"clients"},r.a.createElement(C.c,{to:"#"},"My Clients"))),r.a.createElement(ie.a,null,r.a.createElement(Q.a,null,r.a.createElement(C.c,{to:"/company"},"My Company")))):r.a.createElement(ie.a,{header:!0},"Client"),r.a.createElement(ie.a,null,r.a.createElement(Q.a,null,r.a.createElement(C.c,{to:"/bookings"},"My Bookings"))),r.a.createElement(ie.a,{divider:!0}),r.a.createElement(ie.a,null,r.a.createElement(Q.a,{className:"settings"},r.a.createElement(C.c,{to:"#"},"Settings"))),r.a.createElement(ie.a,null,r.a.createElement(Q.a,null,r.a.createElement(C.c,{to:"/profile/".concat(this.props.loggedInUser._id)},"Profile"))),r.a.createElement(ie.a,null,r.a.createElement(Q.a,null,r.a.createElement(C.c,{to:"/",onClick:function(){return e.logoutUser()}},"Logout"))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{className:"search"},r.a.createElement(C.c,{to:"/search"},"Search")),r.a.createElement(Q.a,null,r.a.createElement(C.c,{to:"/login"},"Login")),r.a.createElement(Q.a,null,r.a.createElement(C.c,{to:"/signup"},"Signup")))))}}]),a}(r.a.Component),ue=(a(133),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isBeingEdited:!1,isAdmin:"",title:"",tempLogoPath:"",logoPath:"",logoName:"".concat(e.title,"'s logo"),locationPin:"",phone:"",admins:[],workers:[],verified:!1,companyProof:""},e.handleChange=function(t){console.log("change handle");var a=t.target,n=a.name,r=a.value;e.setState(Object(B.a)({},n,r))},e.handleFileChange=function(t){e.setState({tempLogoPath:t.target.files[0]}),console.log(e.state.tempLogoPath)},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.title,r=a.logoName,o=a.locationPin,l=a.phone,c=a.verified,s=a.companyProof,i=a.isAdmin;if(""===e.state.tempLogoPath)return j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).post("".concat("https://rework-project.herokuapp.com/","/company"),{title:n,logoName:r,locationPin:o,phone:l,verified:c,companyProof:s,isAdmin:i,logoPath:e.state.tempLogoPath}).then((function(t){console.log("success without photo",t),Object(R.b)("Company was updated!"),e.setState({isBeingEdited:!1});var a=t.data.response._id;e.props.history.push("/company/".concat(a))}));var m=new FormData;m.append("photoPath",e.state.tempLogoPath),j.a.post("".concat("https://rework-project.herokuapp.com/","/upload"),m).then((function(t){return console.log("goes to cloudinary",t),e.setState({logoPath:t.data.photoPath}),j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).post("".concat("https://rework-project.herokuapp.com/","/company"),{title:n,logoName:r,locationPin:o,phone:l,verified:c,companyProof:s,isAdmin:i,logoPath:e.state.logoPath}).then((function(t){console.log("success with photo",t),Object(R.b)("Profile was updated!"),e.setState({isBeingEdited:!1});var a=t.data.response._id;e.props.history.push("/company/".concat(a))}))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("component did mount"),console.log("PROPSSSSS",this.props.loggedInUser);var t=this.props.match.params.id;if(console.log("pre",this.props.match.params.id),this.props.match.params.id)return console.log("ENTROUUUUU",this.props.match.params.id),j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).get("/company/".concat(t)).then((function(t){var a=t.data,n=a.title,r=a.logoPath,o=a.logoName,l=a.locationPin,c=a.phone,s=a.admins,i=a.workers,m=a.isAdmin,h=a.verified,u=a.companyProof;e.setState({title:n,logoPath:r,logoName:o,locationPin:l,phone:c,admins:s,workers:i,verified:h,companyProof:u,isAdmin:m})})).catch((function(e){return e}))}},{key:"makeEdit",value:function(){this.setState({isBeingEdited:!this.state.isBeingEdited})}},{key:"render",value:function(){var e=this;console.log("render");var t=this.state,a=t.title,n=t.locationPin,o=t.phone,l=t.verified,c=t.companyProof;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"My Company"),r.a.createElement("div",{className:"toTheRight"},r.a.createElement(E.a,{color:"primary",onClick:this.handleFormSubmit},"Save"),r.a.createElement(E.a,{onClick:function(){return e.makeEdit()}},this.state.isBeingEdited?"View Mode":"Edit"))),r.a.createElement(R.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(F.a,{onSubmit:this.handleFormSubmit,className:"mycompany"},r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"companyName"},"Name"),r.a.createElement(M.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"text",name:"title",id:"title",placeholder:"Escreve o nome da tua empresa aqui...",value:a,onChange:this.handleChange}))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"username"},"Phone"),r.a.createElement(M.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"text",name:"phone",id:"phone",placeholder:"Escreve o telefone aqui...",value:o,onChange:this.handleChange})))),r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,null,"Admin of this Company"),r.a.createElement(M.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"select",name:"isAdmin",id:"isAdmin",value:this.state.isAdmin,onChange:this.handleChange},r.a.createElement("option",{value:"",disabled:!0},"Respons\xe1vel pela tua empresa"),r.a.createElement("option",null,"Eu pr\xf3prio"),r.a.createElement("option",null,"Outro")))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,null,"Location Pin"),r.a.createElement(M.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"text",name:"locationPin",id:"locationPin",placeholder:"Localiza a tua empresa no mapa...",value:n,onChange:this.handleChange})))),r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:3},r.a.createElement("img",{src:this.state.logoPath,alt:"company logo",width:"300",style:{borderRadius:"50%"}})),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,null,"Logo"),r.a.createElement(M.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"file",name:"file",id:"logoPath",onChange:this.handleFileChange}),r.a.createElement(L.a,{color:"muted"},"Insert your company logo here.")))),r.a.createElement("hr",null),r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement("h5",null,"Is your company verified?"),r.a.createElement(T.a,{check:!0},r.a.createElement(D.a,{check:!0},r.a.createElement(M.a,{type:"checkbox",value:l,onChange:this.handleChange})," ","Verify Company"))),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"certificate"},"Certificate Document"),r.a.createElement(M.a,{disabled:this.state.isBeingEdited?"":"disabled",type:"file",name:"file",id:"companyProof",value:c,onChange:this.handleFileChange}),r.a.createElement(L.a,{color:"muted"},"Insert your company proof document here."))))))}}]),a}(r.a.Component)),de=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",description:"",file:"",feedbackMessage:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(B.a)({},n,r))},e.handleFileChange=function(t){e.setState({file:t.target.files[0]})},e.handleSubmit=function(t){t.preventDefault();var a=new FormData;a.append("imageUrl",e.state.file),j.a.post("".concat("https://rework-project.herokuapp.com/","/upload"),a).then((function(t){console.log("image uploaded",t),j.a.post("".concat("https://rework-project.herokuapp.com/","/images/create"),{name:e.state.name,description:e.state.description,imageUrl:t.data.imageUrl}).then((function(t){console.log("image created",t),e.setState({name:"",description:"",file:"",feedbackMessage:"Image uploaded sucessfully"})}))}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"New Image"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{type:"text",name:"description",value:this.state.description,onChange:this.handleChange}),r.a.createElement("input",{type:"file",onChange:this.handleFileChange}),r.a.createElement("button",{type:"submit"},"Save new image")),r.a.createElement("div",null,this.state.feedbackMessage))}}]),a}(n.Component),pe=(a(134),a(63),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userInfo:[],isBeingEdited:!1,firstName:"",lastName:"",username:"",password:"",email:"",phone:"",type:"",company:"",birthday:"",photoPath:"",tempPhotoPath:"",loading:!0},e.handleChange=function(t){console.log("change handle");var a=t.target,n=a.name,r=a.value;e.setState(Object(B.a)({},n,r))},e.handleFileChange=function(t){e.setState({tempPhotoPath:t.target.files[0]}),console.log(e.state.tempPhotoPath)},e.handleFormSubmit=function(t){t.preventDefault(),console.log("EVENT TARGET FILES",t.target.files);var a=e.props.match.params.userId,n=e.state,r=n.firstName,o=n.lastName,l=n.username,c=n.password,s=n.email,i=n.company,m=n.phone,h=n.type,u=n.birthday,d=n.tempPhotoPath;if(console.log("PHOTO PATH COMING FROM STATE",d),""===e.state.tempPhotoPath)return j.a.post("".concat("https://rework-project.herokuapp.com/","/profile/").concat(a),{firstName:r,lastName:o,username:l,password:c,email:s,company:i,phone:m,type:h,birthday:u,photoPath:e.state.photoPath}).then((function(t){console.log("success",t),Object(R.b)("Profile was updated!"),e.setState({isBeingEdited:!1})}));var p=new FormData;p.append("photoPath",e.state.tempPhotoPath),j.a.post("".concat("https://rework-project.herokuapp.com/","/upload"),p).then((function(t){return console.log("image uploaded",t),e.setState({photoPath:t.data.photoPath}),j.a.post("".concat("https://rework-project.herokuapp.com/","/profile/").concat(a),{firstName:r,lastName:o,username:l,password:c,email:s,company:i,phone:m,type:h,birthday:u,photoPath:t.data.photoPath}).then((function(t){console.log("success",t),Object(R.b)("Profile was updated!"),e.setState({isBeingEdited:!1})}))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("component did mount");var t=this.props.match.params.userId;return j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).get("/profile/".concat(t)).then((function(t){var a=t.data,n=a.firstName,r=a.lastName,o=a.username,l=a.password,c=a.email,s=a.phone,i=a.type,m=a.company,h=a.birthday,u=a.photoPath;e.setState({userInfo:t.data,firstName:n,email:c,lastName:r,username:o,password:l,phone:s,type:i,company:m,birthday:h,photoPath:u,loading:!1}),console.log(t.data),console.log("PHOTO PATH COMING FROM SERVER",u)})).catch((function(e){return e}))}},{key:"makeEdit",value:function(){this.setState({isBeingEdited:!this.state.isBeingEdited})}},{key:"render",value:function(){var e=this;console.log("render");var t=this.state,a=t.firstName,n=t.lastName,o=t.username,l=t.email,c=t.phone,s=t.type,i=t.company,m=t.birthday,h=t.photoPath,u=t.loading,p=t.isBeingEdited;return r.a.createElement(r.a.Fragment,null,u&&r.a.createElement(d,null),r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"Profile"),r.a.createElement("div",{className:"toTheRight"},r.a.createElement(E.a,{color:"primary",onClick:this.handleFormSubmit},"Save"),r.a.createElement(E.a,{onClick:function(){return e.makeEdit()}},p?"View Mode":"Edit"))),r.a.createElement(R.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(F.a,{onSubmit:this.handleFormSubmit,className:"profile"},r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:3},r.a.createElement("img",{src:h,alt:"profile user",width:"300",style:{borderRadius:"50%"}})),r.a.createElement(I.a,{md:9},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"username"},"Username"),r.a.createElement(M.a,{disabled:p?"":"disabled",type:"text",name:"username",id:"username",placeholder:"Escreve o teu username aqui...",value:o,onChange:this.handleChange})),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"exampleEmail"},"Email"),r.a.createElement(M.a,{disabled:p?"":"disabled",type:"email",name:"email",id:"email",placeholder:"Escreve o teu email aqui...",value:l,onChange:this.handleChange})))),r.a.createElement("br",null),r.a.createElement("p",{className:"text-info"},"Security information"),r.a.createElement("hr",null),r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:12},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"examplePassword"},"Password"),r.a.createElement(M.a,{type:"password",name:"password",id:"examplePassword",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf",disabled:!0,onChange:this.handleChange})))),r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,null,"First Name"),r.a.createElement(M.a,{disabled:p?"":"disabled",type:"text",name:"firstName",id:"firstName",placeholder:"Escreve o teu primeiro nome aqui...",value:a,onChange:this.handleChange}))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,null,"Last Name"),r.a.createElement(M.a,{disabled:p?"":"disabled",type:"text",name:"lastName",id:"lastName",placeholder:"Escreve o teu \xfaltimo nome aqui...",value:n,onChange:this.handleChange})))),r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,null,"Phone"),r.a.createElement(M.a,{disabled:p?"":"disabled",type:"text",name:"phone",id:"phone",placeholder:"Escreve o teu contacto aqui...",value:c,onChange:this.handleChange}))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,null,"Birthday"),r.a.createElement(M.a,{disabled:p?"":"disabled",type:"text",name:"birthday",id:"birthday",placeholder:"Escolhe a tua data de anivers\xe1rio...",value:m,onChange:this.handleChange})))),r.a.createElement("br",null),r.a.createElement("p",{className:"text-info"},"Professional details"),r.a.createElement("hr",null),r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:12},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"company"},"Company"),r.a.createElement(M.a,{disabled:p?"":"disabled",type:"text",name:"company",id:"company",placeholder:"Escreve o nome da tua empresa aqui",value:i,onChange:this.handleChange})))),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"typeofuser"},"Role"),r.a.createElement(M.a,{disabled:p?"":"disabled",type:"select",name:"type",id:"typeofuser",value:s,onChange:this.handleChange},r.a.createElement("option",{value:"",disabled:!0},"Select your option"),r.a.createElement("option",{id:"worker"},"Providing services"),r.a.createElement("option",{id:"client"},"Looking for services"),r.a.createElement("option",{id:"combo"},"Both"))),r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"exampleFile"},"Profile Photo"),r.a.createElement(M.a,{disabled:p?"":"disabled",type:"file",name:"file",id:"photoPath",onChange:this.handleFileChange}),r.a.createElement(L.a,{color:"muted"},"Insert your profile photo here."))))}}]),a}(r.a.Component)),ge=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",email:"",errorMessage:"",listOfServices:[]},e.service=new oe,e.handleChange=function(t){var a,n=t.target,r=n.name,o=n.value;e.setState((a={},Object(B.a)(a,r,o),Object(B.a)(a,"errorMessage",""),a))},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;e.service.login(n,r).then((function(t){t.message?e.setState({errorMessage:"Combina\xe7\xe3o de credenciais errada. Tente novamente."}):(e.props.setCurrentUser(t),e.setState({username:"",password:"",email:""}),localStorage.setItem("loggedin",!0),e.props.history.push("/"))}))},e.getUserServices=function(){return j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).get("/services").then((function(t){e.setState({listOfServices:t.data})}))},e.handleNotification=function(){e.getUserServices(),e.state.listOfServices.map((function(e){e.bookings.length>=1&&e.bookings.map((function(e){return console.log("ESTE",e),j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).get("/bookings/".concat(e)).then((function(e){console.log("IDSDAA",e);var t=e.data;console.log(t),console.log(t.date)}))}))}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{onSubmit:this.handleFormSubmit},r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"username"},"Username:"),r.a.createElement(M.a,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,placeholder:"Escreve o teu username aqui..."}))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"password"},"Password:"),r.a.createElement(M.a,{name:"password",type:"password",value:this.state.password,onChange:this.handleChange,placeholder:"\u25cf \u25cf \u25cf \u25cf \u25cf"})))),this.state.errorMessage&&r.a.createElement("p",{className:"error"}," ",this.state.errorMessage," "),r.a.createElement(E.a,{type:"submit"},"Sign in"),r.a.createElement(T.a,{style:{marginTop:"10px"}},r.a.createElement("p",null,"Don't have account?",r.a.createElement(C.b,{to:"/signup"}," | Signup")))))}}]),a}(n.Component),Ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",firstName:"",lastName:"",email:"",type:"",errorMessage:""},e.service=new oe,e.handleFormSubmit=function(t){t.preventDefault(),console.log("type",e.state.type);var a=e.state,n=a.username,r=a.password,o=a.firstName,l=a.lastName,c=a.email,s=a.type;e.service.signup(n,r,o,l,c,s).then((function(t){e.setState({username:"",password:"",firstName:"",lastName:"",email:"",type:""}),e.props.setCurrentUser(t),localStorage.setItem("loggedin",!0),e.props.history.push("/")})).catch((function(e){console.log(e.message)}))},e.handleChange=function(t){var a,n=t.target,r=n.name,o=n.value;e.setState((a={},Object(B.a)(a,r,o),Object(B.a)(a,"errorMessage",""),a))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.firstName,o=e.lastName,l=e.email,c=e.type;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"Signup")),r.a.createElement("p",{className:"text-info margin-content"},"Your personal informations"),r.a.createElement("hr",null),r.a.createElement(F.a,{onSubmit:this.handleFormSubmit},r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"email"},"Email:"),r.a.createElement(M.a,{type:"text",name:"email",value:l,onChange:this.handleChange,placeholder:"Escreve o teu email aqui..."}))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"password"},"Password:"),r.a.createElement(M.a,{name:"password",type:"password",value:a,onChange:this.handleChange,placeholder:"\u25cf \u25cf \u25cf \u25cf \u25cf"})))),r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"username"},"First Name:"),r.a.createElement(M.a,{type:"text",name:"firstName",value:n,onChange:this.handleChange,placeholder:"Escreve o teu primeiro nome aqui..."}))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"password"},"Last Name:"),r.a.createElement(M.a,{type:"text",name:"lastName",value:o,onChange:this.handleChange})))),r.a.createElement(x.a,{form:!0},r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"username"},"Username:"),r.a.createElement(M.a,{type:"text",name:"username",value:t,onChange:this.handleChange,placeholder:"Escreve o teu username aqui..."}))),r.a.createElement(I.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(D.a,{for:"typeofuser"},"Role"),r.a.createElement(M.a,{type:"select",name:"type",id:"typeofuser",value:c,onChange:this.handleChange},r.a.createElement("option",{value:"",disabled:!0},"Select your user type..."),r.a.createElement("option",{value:"worker",id:"worker"},"Providing services"),r.a.createElement("option",{value:"client",id:"client"},"Looking for services"))))),this.state.errorMessage&&r.a.createElement("p",{className:"error"}," ",this.state.errorMessage," "),r.a.createElement(E.a,null,"Sign up"),r.a.createElement(T.a,{style:{marginTop:"10px"}},r.a.createElement("p",null,"Already have account?",r.a.createElement(C.b,{to:"/login"}," Login")))))}}]),a}(n.Component);a(135);var fe=function(){return r.a.createElement("section",{className:"notfound"},r.a.createElement("h1",null,"This page does not exist"),r.a.createElement("a",{href:"/"},"Get back home!"))},ve=a(69),be=(a(136),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={listOfServices:[],bookings:[]},e.getUserServices=function(){return j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).get("/services").then((function(t){console.log("response",t),e.setState({listOfServices:t.data})}))},e.getUserBookings=function(){e.getUserServices().then((function(){console.log("list of servicessssss",e.state.listOfServices),e.state.listOfServices.map((function(t){t.bookings.length>=1&&(console.log("responseeeeeeeee",t.bookings),t.bookings.map((function(t){return console.log("ESTE",t),j.a.create({baseURL:"".concat("https://rework-project.herokuapp.com/"),withCredentials:!0}).get("/bookings/".concat(t)).then((function(t){console.log("OLHAAAA",t.data.date),console.log("FESTAAAAAAA",t),console.log("OLHAAA2",w.a.utc(t.data.date).utc().format("MM/DD/YYYY"));var a=w.a.utc(t.data.date).utc().format("MM/DD/YYYY"),n=t.data,r=n.confirmationStatus,o=n.logStatus,l=n.time,c=n.title;e.setState({bookings:[].concat(Object(ve.a)(e.state.bookings),[{confirmationStatus:r,date:a,logStatus:o,time:l,title:c}])})}))})))}))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getUserBookings()}},{key:"render",value:function(){var e=this.state.bookings;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"My Bookings"),r.a.createElement("section",{className:"bookinglist"},e.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{key:e._id},r.a.createElement("span",null,r.a.createElement(g.a,null,r.a.createElement("strong",null,e.title)),r.a.createElement(H.a,null,r.a.createElement("strong",null,"Date:"),"  ",e.date,"  |  ",r.a.createElement("strong",null,"Time:"),"  ",e.time)),r.a.createElement(E.a,null,"+")))}))))}}]),a}(n.Component)),ye=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).service=new oe,e.state={loggedInUser:null,loading:!0},e.setCurrentUser=function(t){e.setState({loggedInUser:t})},e.fetchUser=function(t){null===e.state.loggedInUser&&e.service.loggedin().then((function(t){console.log("response from fetch user",t),t._id?(console.log("COM SUCESSO"),localStorage.setItem("loggedin",!0),e.setCurrentUser(t)):(console.log("FAILURE"),localStorage.clear(),e.props.history.push("/"))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchUser(),this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(N.Notifications,null),r.a.createElement(he,{loggedInUser:this.state.loggedInUser,setCurrentUser:this.setCurrentUser}),r.a.createElement("section",{className:"maincontent"},this.state.loading&&r.a.createElement(d,null),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(U,Object.assign({isLoggedIn:e.state.loggedInUser},t))}}),r.a.createElement(h.b,{path:"/login",render:function(t){return r.a.createElement(ge,Object.assign({setCurrentUser:e.setCurrentUser},t))}}),r.a.createElement(h.b,{path:"/signup",render:function(t){return r.a.createElement(Ee,Object.assign({setCurrentUser:e.setCurrentUser},t))}}),r.a.createElement(h.b,{exact:!0,path:"/images/add",component:de}),r.a.createElement(h.b,{exact:!0,path:"/services",render:function(t){return r.a.createElement(V,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),r.a.createElement(h.b,{exact:!0,path:"/services/:id",render:function(t){return r.a.createElement(ne,Object.assign({},t,{loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(h.b,{exact:!0,path:"/services/:id/edit",render:function(t){return localStorage.getItem("loggedin")?r.a.createElement(re,Object.assign({loggedInUser:e.state.loggedInUser},t)):r.a.createElement(h.a,{to:"/login"})}}),r.a.createElement(h.b,{exact:!0,path:"/profile/:userId",render:function(e){return localStorage.getItem("loggedin")?r.a.createElement(pe,e):r.a.createElement(h.a,{to:"/login"})}}),r.a.createElement(h.b,{exact:!0,path:"/bookings",render:function(t){return localStorage.getItem("loggedin")?r.a.createElement(be,Object.assign({loggedInUser:e.state.loggedInUser},t)):r.a.createElement(h.a,{to:"/login"})}}),r.a.createElement(h.b,{exact:!0,path:"/company",render:function(t){if(localStorage.getItem("loggedin"))return r.a.createElement(ue,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),r.a.createElement(h.b,{exact:!0,path:"/company/:id",render:function(t){if(localStorage.getItem("loggedin"))return r.a.createElement(ue,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),r.a.createElement(h.b,{path:"*",component:function(){return r.a.createElement(fe,null)}}))),r.a.createElement(A,null))}}]),a}(n.Component),ke=Object(h.g)(ye);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C.a,null,r.a.createElement(ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports=a(137)},75:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.3b0e04a9.chunk.js.map